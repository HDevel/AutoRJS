<!DOCTYPE html>
<html>
<head>
    <title>AutoRJS</title>
    <meta name="viewport" content="user-scalable=0, initial-scale=1, maximum-scale=1, minimum-scale=1, minimal-ui">
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
    <script type="text/javascript" src="lib/mod/arjs.js"></script>
    <script>

        arjs.ready(function(){
            arjs.preload.image({
                'testOver':'media/testOver.png',
                'img_01':'media/img_01.png',
                'testCrop':'media/testCrop.png'
            });
            arjs.preload.progress(
                function(info)
                {
                    if(info == 100){
                        runGame();
                    }
                }
            )
            arjs.init({
                canvas:'canvas'
            });

        })
        function runGame(){


            for(var i = 0; i < 10; i++){
                arjs.entity.add({
                    name:'crop' + i,
                    image:'testOver',
                    x: Math.round(Math.random() * arjs.canvas.width),
                    y: Math.round(Math.random() * arjs.canvas.height),
//                    onclick: function (){
//                        console.log(this.name);
//                    },
                    crop: [0,Math.round(Math.random() * 2) * 100,100,100]
                });
            }
        }
    </script>
</head>
<body style="padding: 0; margin: 0;">
<img id="test" src="media/stackedclouds-1_.png" style="display: none;">
<canvas id="canvas" style="display: block;" width="1000" height="500"></canvas>
</body>
</html>
