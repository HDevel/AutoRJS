<!DOCTYPE html>
<html>
<head>
    <title>AutoRJS</title>
    <meta name="viewport" content="user-scalable=0, initial-scale=1, maximum-scale=1, minimum-scale=1, minimal-ui">
    <!--<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.0.min.js"></script>-->
    <script type="text/javascript" src="lib/arjs/arjs.js"></script>
    <script type="text/javascript" src="lib/plugins/animation.js"></script>
    <!--<script type="text/javascript" src="lib/plugins/gravity.js"></script>-->
    <script>
        var preload = new Object();

        for(var i = 1; i <= 50; i++){
            preload['cube' + i] = 'media/cubes/cube-(' + i + ').png'
        }

        arjs.ready(function(){
            arjs.preload.image(preload);
            arjs.preload.progress(
                    function(info)
                    {
                        console.log(info)
                        if(info == 100){
                            runGame();
                        }
                    }
            )
            arjs.init({
                canvas:'canvas'
            });

        })
        function runGame(){
            var count = 50;
            function addCube(){

                arjs.entity.add({
                    name:'cube' + count,
                    image:'cube' + count,
                    x: (20 * count) + 140,
                    y: 100,
                    width: 224,
                    height: 224,
                    animation:{
                        speed: 30,
                        frames: '0-6'
                    }
                });
                count--;
                if(count == 0){
                    return
                }
                setTimeout(function(){
                    addCube()
                },500)
            }
            addCube()
        }
    </script>
</head>
<body style="padding: 0; margin: 0;">
<img id="test" src="media/stackedclouds-1_.png" style="display: none;">
<style>
    canvas{
        position: absolute;
        top:0px;
        left:0px;
        opacity: 0.5;
        z-index: 10;

    }
    #debugShapes{
        position: absolute;
        width: 1000px;
        height: 500px;
        z-index: 10;
        top:0px;
        left:0px;
    }
    #debugShapes > div{
        position: absolute;
        box-shadow: 0px 0px 0px 1px #f0f inset;
    }
</style>
<canvas id="canvas" style="display: block; opacity: 1; z-index: 5;" width="1000" height="500"></canvas>
</body>
</html>
